name: panos_network_snippets_layer3_create_virtual_router
description: |-
  PAN-OS default virtual router base configuration
type: panos

snippets:

  - name: virtual_router
    xpath: /config/devices/entry[@name='localhost.localdomain']/network/virtual-router
    element: |-
      <entry name="default">
        <protocol>
          <bgp>
            <enable>no</enable>
            <dampening-profile>
              <entry name="default">
                <cutoff>1.25</cutoff>
                <reuse>0.5</reuse>
                <max-hold-time>900</max-hold-time>
                <decay-half-life-reachable>300</decay-half-life-reachable>
                <decay-half-life-unreachable>900</decay-half-life-unreachable>
                <enable>yes</enable>
              </entry>
            </dampening-profile>
            <routing-options>
              <graceful-restart>
                <enable>yes</enable>
              </graceful-restart>
            </routing-options>
          </bgp>
        </protocol>
        <ecmp>
          <algorithm>
            <ip-modulo/>
          </algorithm>
        </ecmp>
      </entry>